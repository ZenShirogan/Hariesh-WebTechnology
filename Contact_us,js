import React, { Component } from 'react';
import ReactDOM from 'react-dom';
import './contact_us.scss';

const Card = props => (
  React.createElement('div', { className: 'card' }, props.children)
);

const Form = props => (
  React.createElement('form', { className: 'form' }, props.children)
);

const TextInput = props => (
  React.createElement('div', { className: 'text-input' },
    React.createElement('label', {
      className: (props.focus || props.value !== '') ? 'label-focus' : '',
      htmlFor: props.name
    }, props.label),
    React.createElement('input', {
      className: (props.focus || props.value !== '') ? 'input-focus' : '',
      type: 'text',
      name: props.name,
      value: props.value,
      onChange: props.onChange,
      onInput: props.onInput,
      onFocus: props.onFocus,
      onBlur: props.onBlur
    })
  )
);

const TextArea = props => (
  React.createElement('div', { className: 'text-area' },
    React.createElement('label', {
      className: (props.focus || props.value !== '') ? 'label-focus' : '',
      htmlFor: props.name
    }, props.label),
    React.createElement('textarea', {
      className: (props.focus || props.value !== '') ? 'input-focus' : '',
      name: props.name,
      value: props.value,
      onChange: props.onChange,
      onInput: props.onInput,
      onFocus: props.onFocus,
      onBlur: props.onBlur
    })
  )
);

const Button = props => (
  React.createElement('button', { className: 'button' }, props.children)
);

class Contact extends Component {
  constructor() {
    super();
    this.state = {
      name: {
        name: 'name',
        label: 'Name',
        value: '',
        focus: false,
      },
      email: {
        name: 'email',
        label: 'Email',
        value: '',
        focus: false,
      },
      message: {
        name: 'message',
        label: 'Message',
        value: '',
        focus: false,
      },
    }
  }

  handleFocus(e) {
    const name = e.target.name;
    const state = Object.assign({}, this.state[name]);
    state.focus = true;
    this.setState({ [name]: state }, () => { console.log(state) });
  }

  handleBlur(e) {
    const name = e.target.name;
    const state = Object.assign({}, this.state[name]);
    state.focus = false;
    this.setState({ [name]: state }, () => { console.log(state) });
  }

  handleChange(e) {
    const name = e.target.name;
    const state = Object.assign({}, this.state[name]);
    state.value = e.target.value;
    this.setState({ [name]: state }, () => { console.log(state) });
  }

  render() {
    const { name, email, message } = this.state;
    return (
      React.createElement('div', { className: 'container' },
        React.createElement(Card, null,
          React.createElement('h1', null, 'Send us a Message!'),
          React.createElement(Form, null,
            React.createElement(TextInput, {
              ...name,
              onFocus: this.handleFocus.bind(this),
              onBlur: this.handleBlur.bind(this),
              onChange: this.handleChange.bind(this)
            }),
            React.createElement(TextInput, {
              ...email,
              onFocus: this.handleFocus.bind(this),
              onBlur: this.handleBlur.bind(this),
              onChange: this.handleChange.bind(this)
            }),
            React.createElement(TextArea, {
              ...message,
              onFocus: this.handleFocus.bind(this),
              onBlur: this.handleBlur.bind(this),
              onChange: this.handleChange.bind(this)
            }),
            React.createElement(Button, null, 'Send')
          )
        )
      )
    );
  }
}

export default Contact_us;
